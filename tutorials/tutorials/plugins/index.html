<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.80.0" />
    <meta name="description" content="">


    <link rel="icon" href="https://epiviz.github.io/tutorials/images/favicon.png" type="image/png">

    
    <title>External Scripts and Plugins</title>
    <link href="https://epiviz.github.io/tutorials/css/nucleus.css" rel="stylesheet">
    <link href="https://epiviz.github.io/tutorials/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://epiviz.github.io/tutorials/css/hybrid.css" rel="stylesheet">
    <link href="https://epiviz.github.io/tutorials/css/featherlight.min.css" rel="stylesheet">
    <link href="https://epiviz.github.io/tutorials/css/perfect-scrollbar.min.css" rel="stylesheet">
    <link href="https://epiviz.github.io/tutorials/css/horsey.css" rel="stylesheet">
    <link href="https://epiviz.github.io/tutorials/css/theme.css" rel="stylesheet">
    <link href="https://epiviz.github.io/tutorials/css/hugo-theme.css" rel="stylesheet">
    <script src="https://epiviz.github.io/tutorials/js/jquery-2.x.min.js"></script>
    <script src="https://epiviz.github.io/tutorials/js/prism.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    <link href="https://epiviz.github.io/tutorials/css/my_style.css" rel="stylesheet">
  </head>
  <body class="" data-url="https://epiviz.github.io/tutorials/tutorials/plugins/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a width="100%" height="100%" href="https://epiviz.github.io"><img src="https://epiviz.github.io/tutorials/images/epiviz_logo.png"></a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://epiviz.github.io/tutorials/js/lunr.min.js?1611195371"></script>
<script type="text/javascript" src="https://epiviz.github.io/tutorials/js/auto-complete.js?1611195371"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/epiviz.github.io\/tutorials";
    
</script>
<script type="text/javascript" src="https://epiviz.github.io/tutorials/js/search.js?1611195371"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='https://epiviz.github.io/tutorials/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/tutorials/" title="Epiviz Tutorials" class="dd-item
        parent
        
        
        ">
      <a href="https://epiviz.github.io/tutorials/tutorials/">
          Epiviz Tutorials
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/tutorials/timp2014/" title="450k Illumina Human Methylation data for multiple solid tumors" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/tutorials/timp2014/">
        450k Illumina Human Methylation data for multiple solid tumors
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/charts/" title="Chart Tutorial" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/tutorials/charts/">
        Chart Tutorial
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/computed-measurements/" title="Computed Measurements" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/tutorials/computed-measurements/">
        Computed Measurements
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/epivizr/" title="Epivizr" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/tutorials/epivizr/">
        Epivizr
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/plugins/" title="External Scripts and Plugins" class="dd-item active">
        <a href="https://epiviz.github.io/tutorials/tutorials/plugins/">
        External Scripts and Plugins
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/websocket/" title="Websocket Tutorial" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/tutorials/websocket/">
        Websocket Tutorial
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/tutorials/" title="Epiviz Tutorials" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/tutorials/">
        Epiviz Tutorials
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/metaviz/" title="Metaviz Tutorials" class="dd-item
        
        
        
        ">
      <a href="https://epiviz.github.io/tutorials/metaviz/">
          Metaviz Tutorials
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/metaviz/overview/" title="Metaviz Quick Overview" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/metaviz/overview/">
        Metaviz Quick Overview
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/metaviz/metagenomeseq/" title="Differential Analysis with MetagenomeSeq and Metaviz" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/metaviz/metagenomeseq/">
        Differential Analysis with MetagenomeSeq and Metaviz
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/metaviz/video_tutorials/" title="Visual Analysis of MSD16S Dataset" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/metaviz/video_tutorials/">
        Visual Analysis of MSD16S Dataset
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/metaviz/spline/" title="Longitudinal Data Analysis" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/metaviz/spline/">
        Longitudinal Data Analysis
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/metaviz/usingdocker/" title="Metaviz Docker Containers" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/metaviz/usingdocker/">
        Metaviz Docker Containers
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/metaviz/hostingdata/" title="Hosting Data in Metaviz" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/metaviz/hostingdata/">
        Hosting Data in Metaviz
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/metaviz/diveristy_plot/" title="Create a Diversity Plot with HMP2Data IBD Biopsy" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/metaviz/diveristy_plot/">
        Create a Diversity Plot with HMP2Data IBD Biopsy
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/metaviz/save_plots/" title="Save plots on Metaviz" class="dd-item ">
        <a href="https://epiviz.github.io/tutorials/metaviz/save_plots/">
        Save plots on Metaviz
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable">

            <div id="top-bar">
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                
                <span id="toc-menu"><a href=""><i class="fa fa-list-alt"></i></a></span>
                
                
                
                
                  
                
                  
                
                <span itemprop="title"> External Scripts and Plugins</span>
              </div>
              
                  <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#table-of-contents">Table of Contents</a></li>
  </ul>
</nav>
    </div>
</div>

              

            </div>
            
    	        <div id="body-inner">
                
                <h1>External Scripts and Plugins</h1>
                


<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#external-scripts-and-settings">Plugging in external scripts and settings</a></li>
<li><a href="#new-chart-plugin">Creating a new Chart Plugin</a></li>
<li><a href="#new-data-provider-plugin">Creating a new Data Provider Plugin</a></li>
</ul>
<hr>
<!-- raw HTML omitted -->
<p><strong>Epiviz</strong> allows users to plug in new visualizations and data providers on the fly, by using the <strong>Charts API</strong> and <strong>Data
Providers API</strong>, without the need of downloading or installing anything on the local machine. The new visualizations
and data providers can be used immediately, alongside existing ones. Also, users can override the default settings of the
UI to adapt it to their own needs. Here&rsquo;s how to do it:</p>
<ol>
<li><strong>Create a plugin script.</strong> Whether it&rsquo;s a new visualization, new data provider, or simply changing the default
settings of <code>Epiviz</code>, you need to write a <code>JavaScript</code> script for it.</li>
</ol>
<p><strong>Example</strong></p>
<p>A very simple example is a script that overrides some of the <strong>{{ site.epiviz }}</strong> default settings. A copy of the default settings
in <code>Epiviz</code> can be found here: <a href="http://epiviz.cbcb.umd.edu/4/src/epiviz/default-settings.js">http://epiviz.cbcb.umd.edu/4/src/epiviz/default-settings.js</a>.
Choose a subset of settings you want to modify. In our example, we change the default colors for the <strong>Scatter Plot</strong>
and set the initial circle radius for data points to be <code>0.02</code>, instead of <code>0.01</code>, which is the default. Also, we
change the settings so that <code>Epiviz</code> can only display scatter plots and genes tracks.</p>
<p>Epiviz 4 or 3:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// Create a new color palette
</span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">myPalette</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">ui</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">ColorPalette</span>([<span style="color:#e6db74">&#39;#ed2d2e&#39;</span>, <span style="color:#e6db74">&#39;#008c47&#39;</span>], <span style="color:#e6db74">&#39;My Palette&#39;</span>, <span style="color:#e6db74">&#39;my-palette&#39;</span>);
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">Config</span>.<span style="color:#a6e22e">SETTINGS</span>.<span style="color:#a6e22e">colorPalettes</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">myPalette</span>);

<span style="color:#75715e">// Set the default colors for the Scatter Plot to &#39;#ed2d2e&#39; and &#39;#008c47&#39;
</span><span style="color:#75715e"></span><span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">Config</span>.<span style="color:#a6e22e">SETTINGS</span>.<span style="color:#a6e22e">chartSettings</span>[<span style="color:#e6db74">&#39;epiviz.plugins.charts.ScatterPlot&#39;</span>][<span style="color:#e6db74">&#39;colors&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;my-palette&#39;</span>;

<span style="color:#75715e">// Set the Scatter Plot custom setting circleRadiusRatio to 0.02
</span><span style="color:#75715e"></span><span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">Config</span>.<span style="color:#a6e22e">SETTINGS</span>.<span style="color:#a6e22e">chartCustomSettings</span>[<span style="color:#e6db74">&#39;epiviz.plugins.charts.ScatterPlot&#39;</span>][<span style="color:#e6db74">&#39;circleRadiusRatio&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.02</span>;

<span style="color:#75715e">// Tell EpiViz to only show two types of charts: Scatter Plots and Genes Tracks
</span><span style="color:#75715e"></span><span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">Config</span>.<span style="color:#a6e22e">SETTINGS</span>.<span style="color:#a6e22e">chartTypes</span> <span style="color:#f92672">=</span> [
  <span style="color:#e6db74">&#39;epiviz.plugins.charts.ScatterPlotType&#39;</span>,
  <span style="color:#e6db74">&#39;epiviz.plugins.charts.GenesTrackType&#39;</span>];
</code></pre></div><p>Epiviz 2:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// Set the default colors for the Scatter Plot to &#39;#ed2d2e&#39; and &#39;#008c47&#39;
</span><span style="color:#75715e"></span><span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">EpiViz</span>.<span style="color:#a6e22e">SETTINGS</span>.<span style="color:#a6e22e">chartSettings</span>[<span style="color:#e6db74">&#39;epiviz.plugins.charts.ScatterPlot&#39;</span>][<span style="color:#e6db74">&#39;colors&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">ui</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">ColorPalette</span>([<span style="color:#e6db74">&#39;#ed2d2e&#39;</span>, <span style="color:#e6db74">&#39;#008c47&#39;</span>]);

<span style="color:#75715e">// Set the Scatter Plot custom setting circleRadiusRatio to 0.02
</span><span style="color:#75715e"></span><span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">EpiViz</span>.<span style="color:#a6e22e">SETTINGS</span>.<span style="color:#a6e22e">chartCustomSettings</span>[<span style="color:#e6db74">&#39;epiviz.plugins.charts.ScatterPlot&#39;</span>][<span style="color:#e6db74">&#39;circleRadiusRatio&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.02</span>;

<span style="color:#75715e">// Tell EpiViz to only show two types of charts: Scatter Plots and Genes Tracks
</span><span style="color:#75715e"></span><span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">EpiViz</span>.<span style="color:#a6e22e">SETTINGS</span>.<span style="color:#a6e22e">chartTypes</span> <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;epiviz.plugins.charts.ScatterPlotType&#39;</span>, <span style="color:#e6db74">&#39;epiviz.plugins.charts.GenesTrackType&#39;</span>];
</code></pre></div><ol start="2">
<li>Epiviz also implements the <strong><a href="https://developer.github.com/v3/gists/">GitHub Gist API</a></strong>, allowing users to create and use <strong>Gist</strong> as plugins (see <strong><a href="https://help.github.com/articles/creating-gists">here</a></strong> a short tutorial on how to create a Gist script).</li>
</ol>
<p><strong>Example:</strong> For the purpose of this tutorial, we created a Gist script with the same contents here</p>
<ul>
<li>(Epiviz 4|3): <a href="http://gist.github.com/fa247476e6d9b4efb76a">http://gist.github.com/fa247476e6d9b4efb76a</a></li>
<li>(Epiviz 2): <a href="http://gist.github.com/7851244d2d9a9996403a">http://gist.github.com/7851244d2d9a9996403a</a>.</li>
</ul>
<ol start="3">
<li>Open <strong>{% link Epiviz <a href="http://epiviz.cbbc.umd.edu/4">http://epiviz.cbbc.umd.edu/4</a> %}</strong> using the id of the GitHub Gist script as value for the <code>gist</code> argument. <strong>Note:</strong> the <code>gist</code> argument represents an array, so that multiple scripts can be provided at once. Thus, the format <code>gist[]=&lt;gist id&gt;</code> should be used. In background, Epiviz uses the GitHub Gist API to retrieve the scripts using the given id, and use plug them in at start-up.</li>
</ol>
<ul>
<li><strong>Example:</strong> (Epiviz 4) [http://epiviz.cbcb.umd.edu/4/?ws=wjRtqAK3GCd&amp;settings=default&amp;gist[]=fa247476e6d9b4efb76a]({{ site.epivizUiMain }}?ws=wjRtqAK3GCd&amp;settings=default&amp;gist[]=fa247476e6d9b4efb76a)</li>
<li><strong>Example:</strong> (Epiviz 3) [http://epiviz.cbcb.umd.edu/3/?ws=wjRtqAK3GCd&amp;settings=default&amp;gist[]=fa247476e6d9b4efb76a]({{ site.epivizUiMain }}?ws=wjRtqAK3GCd&amp;settings=default&amp;gist[]=fa247476e6d9b4efb76a)</li>
<li><strong>Example:</strong> (Epiviz 2) [http://epiviz.cbcb.umd.edu/2/?ws=wjRtqAK3GCd&amp;settings=default&amp;gist[]=7851244d2d9a9996403a]({{ site.epiviz2UiMain }}?ws=wjRtqAK3GCd&amp;settings=default&amp;gist[]=7851244d2d9a9996403a)</li>
</ul>
<p><strong>Overriding settings</strong></p>
<p>In Epiviz, there are a few ways to override the default settings.</p>
<ul>
<li>The first one, demonstrated earlier, is to provide a <code>gist</code> GET argument.</li>
<li>The second one, is by creating an entire settings file to override the existing default settings. This works similar
to the first method, only differing from it by the fact that it uses cookies to preserve the latest used settings. The
GET arguments used for this are <code>settings</code> and <code>settingsGist</code>. To revert to the default {{ site.epiviz }} settings, one should open (<a href="http://epiviz.cbcb.umd.edu/4/)%5Bhttp://epiviz.cbcb.umd.edu/4/%5D">http://epiviz.cbcb.umd.edu/4/)[http://epiviz.cbcb.umd.edu/4/]</a> with <code>settings=default</code>.</li>
</ul>
<p>In the tutorial examples for <strong>Creating a new chart plugin</strong> and <strong>Creating a new data provider plugin</strong> we provide more
examples of plugging in various scripts and settings.</p>
<!-- raw HTML omitted -->
<ul>
<li><strong><a href="http://epiviz.cbcb.umd.edu/4/?ws=Y8kWxCO2Ajn&amp;settings=default&amp;gist%5B%5D=9cff81ce56ba153f0b72">See it in Epiviz 4</a></strong></li>
<li><strong><a href="http://epiviz.cbcb.umd.edu/3/?ws=Y8kWxCO2Ajn&amp;settings=default&amp;gist%5B%5D=9cff81ce56ba153f0b72">See it in Epiviz 3</a></strong></li>
<li><strong><a href="http://epiviz.cbcb.umd.edu/2/?ws=Y8kWxCO2Ajn&amp;settings=default&amp;gist%5B%5D=11017650">See it in Epiviz 2</a></strong></li>
</ul>
<ol>
<li>Create a class for the actual visualization</li>
</ol>
<p><strong>Example</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">
<span style="color:#a6e22e">goog</span>.<span style="color:#a6e22e">provide</span>(<span style="color:#e6db74">&#39;epiviz.plugins.charts.MyTrack&#39;</span>);

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @constructor
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrack</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
};
</code></pre></div><ol start="2">
<li>Inherit either <code>epiviz.ui.charts.Track</code> or <code>epiviz.ui.charts.Plot</code> (depending on display type)</li>
</ol>
<p><strong>Example</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">goog</span>.<span style="color:#a6e22e">provide</span>(<span style="color:#e6db74">&#39;epiviz.plugins.charts.MyTrack&#39;</span>);

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param id
</span><span style="color:#75715e"> * @param {jQuery} container
</span><span style="color:#75715e"> * @param {epiviz.ui.charts.ChartProperties} properties
</span><span style="color:#75715e"> * @extends {epiviz.ui.charts.Track}
</span><span style="color:#75715e"> * @constructor
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrack</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">id</span>, <span style="color:#a6e22e">container</span>, <span style="color:#a6e22e">properties</span>) {
  <span style="color:#75715e">// Call superclass constructor
</span><span style="color:#75715e"></span>  <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">ui</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">Track</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">id</span>, <span style="color:#a6e22e">container</span>, <span style="color:#a6e22e">properties</span>);

  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_initialize</span>();
};

<span style="color:#75715e">/*
</span><span style="color:#75715e"> * Copy methods from upper class
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrack</span>.<span style="color:#a6e22e">prototype</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">utils</span>.<span style="color:#a6e22e">mapCopy</span>(<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">ui</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">Track</span>.<span style="color:#a6e22e">prototype</span>);
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrack</span>.<span style="color:#a6e22e">constructor</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrack</span>;


<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {epiviz.datatypes.GenomicRange} [range]
</span><span style="color:#75715e"> * @param {epiviz.measurements.MeasurementHashtable.&lt;epiviz.datatypes.GenomicDataMeasurementWrapper&gt;} [data]
</span><span style="color:#75715e"> * @param {number} [slide]
</span><span style="color:#75715e"> * @param {number} [zoom]
</span><span style="color:#75715e"> * @returns {Array.&lt;epiviz.ui.charts.UiObject&gt;} The objects drawn
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrack</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">draw</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">range</span>, <span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">slide</span>, <span style="color:#a6e22e">zoom</span>) {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">ui</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">Chart</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">draw</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">range</span>, <span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">slide</span>, <span style="color:#a6e22e">zoom</span>);
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @returns {string}
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrack</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">chartTypeName</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
  <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;epiviz.plugins.charts.MyTrack&#39;</span>;
};
</code></pre></div><ol start="3">
<li>Implement the <code>draw()</code> method</li>
</ol>
<p><strong>Example</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {epiviz.datatypes.GenomicRange} [range]
</span><span style="color:#75715e"> * @param {epiviz.measurements.MeasurementHashtable.&lt;epiviz.datatypes.GenomicDataMeasurementWrapper&gt;} [data]
</span><span style="color:#75715e"> * @param {number} [slide]
</span><span style="color:#75715e"> * @param {number} [zoom]
</span><span style="color:#75715e"> * @returns {Array.&lt;epiviz.ui.charts.UiObject&gt;} The objects drawn
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrack</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">draw</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">range</span>, <span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">slide</span>, <span style="color:#a6e22e">zoom</span>) {
    <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">ui</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">Track</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">draw</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">range</span>, <span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">slide</span>, <span style="color:#a6e22e">zoom</span>);

    <span style="color:#75715e">// If data is defined, then the base class sets this._lastData to data.
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// If it isn&#39;t, then we&#39;ll use the data from the last draw call.
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Same with this._lastRange and range.
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">data</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_lastData</span>;
    <span style="color:#a6e22e">range</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_lastRange</span>;

    <span style="color:#75715e">// If data is not defined, there is nothing to draw
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span><span style="color:#a6e22e">data</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span><span style="color:#a6e22e">range</span>) { <span style="color:#66d9ef">return</span> []; }

    <span style="color:#75715e">// Using D3, compute a function that maps base-pair locations to chart pixel coordinates
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">xScale</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">scale</span>.<span style="color:#a6e22e">linear</span>()
      .<span style="color:#a6e22e">domain</span>([<span style="color:#a6e22e">range</span>.<span style="color:#a6e22e">start</span>(), <span style="color:#a6e22e">range</span>.<span style="color:#a6e22e">end</span>()])
      .<span style="color:#a6e22e">range</span>([<span style="color:#ae81ff">0</span>, <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">width</span>() <span style="color:#f92672">-</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">margins</span>().<span style="color:#a6e22e">left</span>() <span style="color:#f92672">-</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">margins</span>().<span style="color:#a6e22e">right</span>()]);

    <span style="color:#75715e">// Compute the minimum maximum values of values to be plotted on the Y axis:
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Iterate throught all measurements that the chart is supposed to draw and find
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// default minimum and maximum values.
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">minY</span>, <span style="color:#a6e22e">maxY</span>;
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">measurements</span>().<span style="color:#a6e22e">foreach</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">m</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">minY</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">undefined</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">minValue</span>() <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">minY</span>) {
        <span style="color:#a6e22e">minY</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">minValue</span>();
      }
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">maxY</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">undefined</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">maxValue</span>() <span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">maxY</span>) {
        <span style="color:#a6e22e">maxY</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">maxValue</span>();
      }
    });

    <span style="color:#75715e">// Now create a function that maps measurement values to chart pixel coordinates
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">yScale</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">scale</span>.<span style="color:#a6e22e">linear</span>()
      .<span style="color:#a6e22e">domain</span>([<span style="color:#a6e22e">minY</span>, <span style="color:#a6e22e">maxY</span>])
      .<span style="color:#a6e22e">range</span>([<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">height</span>() <span style="color:#f92672">-</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">margins</span>().<span style="color:#a6e22e">top</span>() <span style="color:#f92672">-</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">margins</span>().<span style="color:#a6e22e">bottom</span>(), <span style="color:#ae81ff">0</span>]);

    <span style="color:#75715e">// Draw x and y axes
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">xTicks</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>, <span style="color:#a6e22e">yTicks</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_clearAxes</span>();
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_drawAxes</span>(<span style="color:#a6e22e">xScale</span>, <span style="color:#a6e22e">yScale</span>, <span style="color:#a6e22e">xTicks</span>, <span style="color:#a6e22e">yTicks</span>);

    <span style="color:#75715e">// Create an array of items to be drawn
</span><span style="color:#75715e"></span>    <span style="color:#75715e">/** @type {Array.&lt;epiviz.ui.charts.UiObject&gt;} */</span>
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">items</span> <span style="color:#f92672">=</span> [];
    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">measurements</span>().<span style="color:#a6e22e">foreach</span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">m</span>, <span style="color:#a6e22e">i</span>) {
      <span style="color:#75715e">/** @type {epiviz.datatypes.GenomicDataMeasurementWrapper} */</span>
      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">dataSeries</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">get</span>(<span style="color:#a6e22e">m</span>);

      <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">j</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">j</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">dataSeries</span>.<span style="color:#a6e22e">size</span>(); <span style="color:#f92672">++</span><span style="color:#a6e22e">j</span>) {
        <span style="color:#75715e">/** @type {epiviz.datatypes.GenomicDataMeasurementWrapper.ValueItem} */</span>
        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">valueItem</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">dataSeries</span>.<span style="color:#a6e22e">get</span>(<span style="color:#a6e22e">j</span>);

        <span style="color:#75715e">// Check that the current item overlaps the requested draw range; if not, skip it.
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">valueItem</span>.<span style="color:#a6e22e">rowItem</span>.<span style="color:#a6e22e">start</span>() <span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">range</span>.<span style="color:#a6e22e">end</span>() <span style="color:#f92672">||</span> <span style="color:#a6e22e">valueItem</span>.<span style="color:#a6e22e">rowItem</span>.<span style="color:#a6e22e">end</span>() <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">range</span>.<span style="color:#a6e22e">start</span>()) { <span style="color:#66d9ef">continue</span>; }

        <span style="color:#a6e22e">items</span>.<span style="color:#a6e22e">push</span>(<span style="color:#66d9ef">new</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">ui</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">UiObject</span>(
          <span style="color:#a6e22e">sprintf</span>(<span style="color:#e6db74">&#39;item-%s-%s&#39;</span>, <span style="color:#a6e22e">i</span>, <span style="color:#a6e22e">valueItem</span>.<span style="color:#a6e22e">globalIndex</span>), <span style="color:#75715e">// an id that uniquely identifies this object
</span><span style="color:#75715e"></span>          <span style="color:#a6e22e">valueItem</span>.<span style="color:#a6e22e">rowItem</span>.<span style="color:#a6e22e">start</span>(), <span style="color:#75715e">// start location of current item
</span><span style="color:#75715e"></span>          <span style="color:#a6e22e">valueItem</span>.<span style="color:#a6e22e">rowItem</span>.<span style="color:#a6e22e">end</span>(), <span style="color:#75715e">// end location of current item
</span><span style="color:#75715e"></span>          [<span style="color:#a6e22e">valueItem</span>.<span style="color:#a6e22e">value</span>], <span style="color:#75715e">// the Y value for the current object
</span><span style="color:#75715e"></span>          <span style="color:#a6e22e">i</span>, <span style="color:#75715e">// series index
</span><span style="color:#75715e"></span>          [[<span style="color:#a6e22e">valueItem</span>]],
          [<span style="color:#a6e22e">m</span>], <span style="color:#75715e">// measurement
</span><span style="color:#75715e"></span>          <span style="color:#e6db74">&#39;item&#39;</span> <span style="color:#75715e">// css class
</span><span style="color:#75715e"></span>        ));
      }
    });

    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">itemsGroup</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_svg</span>.<span style="color:#a6e22e">select</span>(<span style="color:#e6db74">&#39;.items&#39;</span>);
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">itemsGroup</span>.<span style="color:#a6e22e">empty</span>()) {
      <span style="color:#a6e22e">itemsGroup</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_svg</span>.<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#39;g&#39;</span>).<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;class&#39;</span>, <span style="color:#e6db74">&#39;items&#39;</span>);
    }
    <span style="color:#a6e22e">itemsGroup</span>.<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;transform&#39;</span>, <span style="color:#e6db74">&#39;translate(&#39;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">margins</span>().<span style="color:#a6e22e">left</span>() <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;, &#39;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">margins</span>().<span style="color:#a6e22e">top</span>() <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;)&#39;</span>);

    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">selection</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">itemsGroup</span>.<span style="color:#a6e22e">selectAll</span>(<span style="color:#e6db74">&#39;.item&#39;</span>)
      .<span style="color:#a6e22e">data</span>(<span style="color:#a6e22e">items</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">uiObj</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">id</span>; });

    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">self</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>;
    <span style="color:#a6e22e">selection</span>
      .<span style="color:#a6e22e">enter</span>()
      .<span style="color:#a6e22e">append</span>(<span style="color:#e6db74">&#39;rect&#39;</span>)
      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;class&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">uiObj</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">cssClasses</span>; })
      .<span style="color:#a6e22e">style</span>(<span style="color:#e6db74">&#39;fill&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">uiObj</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">self</span>.<span style="color:#a6e22e">colors</span>().<span style="color:#a6e22e">get</span>(<span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">seriesIndex</span>); })
      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;x&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">uiObj</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">xScale</span>(<span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">start</span>); })
      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;width&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">uiObj</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">xScale</span>(<span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">end</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">-</span> <span style="color:#a6e22e">xScale</span>(<span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">start</span>); })
      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;y&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">uiObj</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">yScale</span>(<span style="color:#a6e22e">minY</span>) <span style="color:#f92672">-</span> <span style="color:#a6e22e">yScale</span>(<span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">values</span>[<span style="color:#ae81ff">0</span>]); })
      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;height&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">uiObj</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">yScale</span>(<span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">values</span>[<span style="color:#ae81ff">0</span>]); })
      .<span style="color:#a6e22e">style</span>(<span style="color:#e6db74">&#39;opacity&#39;</span>, <span style="color:#e6db74">&#39;0&#39;</span>)
      .<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;mouseout&#39;</span>, <span style="color:#66d9ef">function</span> () { <span style="color:#a6e22e">self</span>.<span style="color:#a6e22e">_unhover</span>.<span style="color:#a6e22e">notify</span>(); })
      .<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;mouseover&#39;</span>, <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">uiObj</span>) { <span style="color:#a6e22e">self</span>.<span style="color:#a6e22e">_hover</span>.<span style="color:#a6e22e">notify</span>(<span style="color:#a6e22e">uiObj</span>); })
      .<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">uiObj</span>) {
        <span style="color:#a6e22e">self</span>.<span style="color:#a6e22e">_deselect</span>.<span style="color:#a6e22e">notify</span>();
        <span style="color:#a6e22e">self</span>.<span style="color:#a6e22e">_select</span>.<span style="color:#a6e22e">notify</span>(<span style="color:#a6e22e">uiObj</span>);
        <span style="color:#a6e22e">d3</span>.<span style="color:#a6e22e">event</span>.<span style="color:#a6e22e">stopPropagation</span>();
      });

    <span style="color:#a6e22e">selection</span>
      .<span style="color:#a6e22e">transition</span>()
      .<span style="color:#a6e22e">duration</span>(<span style="color:#ae81ff">500</span>)
      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;x&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">uiObj</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">xScale</span>(<span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">start</span>); })
      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;width&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">uiObj</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">xScale</span>(<span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">end</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">-</span> <span style="color:#a6e22e">xScale</span>(<span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">start</span>); })
      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;y&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">uiObj</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">yScale</span>(<span style="color:#a6e22e">minY</span>) <span style="color:#f92672">-</span> <span style="color:#a6e22e">yScale</span>(<span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">values</span>[<span style="color:#ae81ff">0</span>]); })
      .<span style="color:#a6e22e">attr</span>(<span style="color:#e6db74">&#39;height&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">uiObj</span>) { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">yScale</span>(<span style="color:#a6e22e">uiObj</span>.<span style="color:#a6e22e">values</span>[<span style="color:#ae81ff">0</span>]); })
      .<span style="color:#a6e22e">style</span>(<span style="color:#e6db74">&#39;opacity&#39;</span>, <span style="color:#e6db74">&#39;0.2&#39;</span>);

    <span style="color:#a6e22e">selection</span>
      .<span style="color:#a6e22e">exit</span>()
      .<span style="color:#a6e22e">transition</span>()
      .<span style="color:#a6e22e">duration</span>(<span style="color:#ae81ff">500</span>)
      .<span style="color:#a6e22e">style</span>(<span style="color:#e6db74">&#39;opacity&#39;</span>, <span style="color:#e6db74">&#39;0&#39;</span>)
      .<span style="color:#a6e22e">remove</span>();

    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">items</span>;
};
</code></pre></div><ol start="4">
<li>Create a class used as factory, derived from <code>epiviz.ui.charts.TrackType</code> or <code>epiviz.ui.charts.PlotType</code></li>
</ol>
<p><strong>Example</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">goog</span>.<span style="color:#a6e22e">provide</span>(<span style="color:#e6db74">&#39;epiviz.plugins.charts.MyTrackType&#39;</span>);

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {epiviz.Config} config
</span><span style="color:#75715e"> * @extends {epiviz.ui.charts.TrackType}
</span><span style="color:#75715e"> * @constructor
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrackType</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">config</span>) {
    <span style="color:#75715e">// Call superclass constructor
</span><span style="color:#75715e"></span>    <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">ui</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">TrackType</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">config</span>);
};

<span style="color:#75715e">/*
</span><span style="color:#75715e"> * Copy methods from upper class
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrackType</span>.<span style="color:#a6e22e">prototype</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">utils</span>.<span style="color:#a6e22e">mapCopy</span>(<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">ui</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">TrackType</span>.<span style="color:#a6e22e">prototype</span>);
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrackType</span>.<span style="color:#a6e22e">constructor</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrackType</span>;

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {string} id
</span><span style="color:#75715e"> * @param {jQuery} container The div where the chart will be drawn
</span><span style="color:#75715e"> * @param {epiviz.ui.charts.ChartProperties} properties
</span><span style="color:#75715e"> * @returns {epiviz.plugins.charts.MyTrack}
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrackType</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">createNew</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">id</span>, <span style="color:#a6e22e">container</span>, <span style="color:#a6e22e">properties</span>) {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrack</span>(<span style="color:#a6e22e">id</span>, <span style="color:#a6e22e">container</span>, <span style="color:#a6e22e">properties</span>);
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @returns {string}
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrackType</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">typeName</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() { <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;epiviz.plugins.charts.MyTrack&#39;</span>; };

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @returns {string}
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrackType</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">chartName</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() { <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;My Track&#39;</span>; };

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @returns {string}
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrackType</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">chartHtmlAttributeName</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() { <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;mytrack&#39;</span>; };

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @returns {epiviz.measurements.Measurement.Type}
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">charts</span>.<span style="color:#a6e22e">MyTrackType</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">chartContentType</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() { <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">measurements</span>.<span style="color:#a6e22e">Measurement</span>.<span style="color:#a6e22e">Type</span>.<span style="color:#a6e22e">FEATURE</span>; };
</code></pre></div><ol start="5">
<li>In the settings file, add an entry in the <code>chartTypes</code> property corresponding to the track type.</li>
</ol>
<p><strong>Example</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">...
<span style="color:#a6e22e">chartTypes</span><span style="color:#f92672">:</span> [
    ...,
    <span style="color:#e6db74">&#39;epiviz.plugins.charts.MyTrackType&#39;</span>
],
...
</code></pre></div><p>Alternatively, create a script to override the default {{ site.epiviz }} settings and add the new chart type:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">EpiViz</span>.<span style="color:#a6e22e">SETTINGS</span>.<span style="color:#a6e22e">chartTypes</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">&#39;epiviz.plugins.charts.MyTrackType&#39;</span>);
</code></pre></div><ol start="6">
<li>If using Epiviz on a remote server, plug in your scripts and settings file and start using them!</li>
</ol>
<p><strong>Example</strong></p>
<ul>
<li><code>my-track.js</code>,<code>my-track-type.js</code> and <code>my-settings-overrides.js</code>: <a href="http://gist.github.com/9cff81ce56ba153f0b72">http://gist.github.com/9cff81ce56ba153f0b72</a></li>
</ul>
<p>In the Track Menu, notice the new type of visualization, called <strong>My Track</strong></p>
<p><img src="https://epiviz.github.io/tutorials/images/scr_add_mytrack.png" alt="The new track in the Track Menu">
<img src="https://epiviz.github.io/tutorials/images/scr_mytrack.png" alt="New Track"></p>
<hr>
<ul>
<li><strong><a href="http://epiviz.cbcb.umd.edu/4/?ws=Y8kWxCO2Ajn&amp;settings=default&amp;gist%5B%5D=9cff81ce56ba153f0b72">See it in Epiviz 4</a></strong></li>
<li><strong><a href="http://epiviz.cbcb.umd.edu/3/?ws=Y8kWxCO2Ajn&amp;settings=default&amp;gist%5B%5D=9cff81ce56ba153f0b72">See it in Epiviz 3</a></strong></li>
<li><strong><a href="http://epiviz.cbcb.umd.edu/2/?ws=Y8kWxCO2Ajn&amp;settings=default&amp;gist%5B%5D=11017650">See it in Epiviz 2</a></strong></li>
</ul>
<!-- raw HTML omitted -->
<ul>
<li><strong><a href="http://epiviz.cbcb.umd.edu/4/?ws=WRIOVgCREuu&amp;gist%5B%5D=63dce2a92d80f57637c6&amp;settings=default">See it in Epiviz 4</a></strong></li>
<li><strong><a href="http://epiviz.cbcb.umd.edu/3/?ws=WRIOVgCREuu&amp;gist%5B%5D=63dce2a92d80f57637c6&amp;settings=default">See it in Epiviz 3</a></strong></li>
<li><strong><a href="http://epiviz.cbcb.umd.edu/2/?ws=IqvEuzLIiMd&amp;gist%5B%5D=11026256&amp;settings=default">See it in Epiviz 2</a></strong></li>
</ul>
<p>In Epiviz, data can be retrieved simultaneously from any number of servers (like the UMD PHP server, or the Epivizr
Websocket server). The proxies between the servers and the <code>Epiviz</code> UI are called <strong>Data providers</strong>. Currently, Epiviz has two predefined types of data providers: <code>epiviz.data.WebServerDataProvider</code> and <code>epiviz.data.WebSocketDataProvider</code>.
However, through <code>Epiviz</code> plugin mechanism, users can add new data providers to interface other sources of data.</p>
<ol>
<li>Create a new class and inherit <code>epiviz.data.DataProvider</code>.</li>
</ol>
<p><strong>Example</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">goog</span>.<span style="color:#a6e22e">provide</span>(<span style="color:#e6db74">&#39;epiviz.plugins.data.MyDataProvider&#39;</span>);

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @constructor
</span><span style="color:#75715e"> * @extends {epiviz.data.DataProvider}
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">MyDataProvider</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
    <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">DataProvider</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>);
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Copy methods from upper class
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">MyDataProvider</span>.<span style="color:#a6e22e">prototype</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">utils</span>.<span style="color:#a6e22e">mapCopy</span>(<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">DataProvider</span>.<span style="color:#a6e22e">prototype</span>);
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">MyDataProvider</span>.<span style="color:#a6e22e">constructor</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">MyDataProvider</span>;

<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">MyDataProvider</span>.<span style="color:#a6e22e">DEFAULT_ID</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;myprovider&#39;</span>;

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {epiviz.data.Request} request
</span><span style="color:#75715e"> * @param {function(epiviz.data.Response)} callback
</span><span style="color:#75715e"> * @override
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">MyDataProvider</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">getData</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">request</span>, <span style="color:#a6e22e">callback</span>) {
};
</code></pre></div><ol start="2">
<li>Override and implement the <code>getData(request, callback)</code> method.</li>
</ol>
<p>The <strong>Request/Response API</strong> has the following format:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">{
    <span style="color:#a6e22e">requestId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">number</span>,
    <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">string</span>,
    <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> Object.<span style="color:#f92672">&lt;</span><span style="color:#a6e22e">string</span>, <span style="color:#f92672">*&gt;</span>
}
</code></pre></div><ul>
<li>
<p><code>requestId</code> is a unique numeric id identifying the request; responses are paired with requests by using the same <code>requestId</code> value.</p>
</li>
<li>
<p><code>type</code> can be either <code>'request'</code> or <code>'response'</code>, depending on the message type.</p>
</li>
<li>
<p><code>data</code> is a map of key-value pairs of request/response arguments.</p>
<p>For requests, <code>data</code> always has an <code>'action'</code> key, identifying the request type. The possible values for <code>'action'</code>
are defined in the Epiviz API in the enum type <a href="https://epiviz.github.io/tutorials/docs/epiviz.data.Request.html#Action"><code>epiviz.data.Request.Action</code></a>.
The other request keys and values vary depending on the action.</p>
<p>Actions are grouped in two categories - <em><strong>Server Actions</strong></em>  (requests from the UI to the Data Provider) and <em><strong>UI Actions</strong></em> (requests from the Data Provider to the UI).</p>
<p><strong>Server Actions</strong></p>
<table>
<thead>
<tr>
<th>Action</th>
<th>Args</th>
<th>Response format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>'getRows'</code></td>
<td><code>'seqName': string</code>,<!-- raw HTML omitted --><code>'start': number</code>,<!-- raw HTML omitted --><code>'end': number</code>,<!-- raw HTML omitted --><code>'metadata': string[]</code>, a list of metadata columns in the data source table<!-- raw HTML omitted --><code>'datasource': string</code>, the name of the data source table</td>
<td><!-- raw HTML omitted -->{<!-- raw HTML omitted -->  globalStartIndex: ?number,<!-- raw HTML omitted -->  useOffset: boolean,<!-- raw HTML omitted -->  values: {<!-- raw HTML omitted -->    id: number[],<!-- raw HTML omitted -->    start: number[],<!-- raw HTML omitted -->    end: number[],<!-- raw HTML omitted -->    metadata: Object.&lt;string, string[]&gt;<!-- raw HTML omitted -->  }<!-- raw HTML omitted -->}<!-- raw HTML omitted --></td>
<td>Requests range data for a given data source.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'getValues'</code></td>
<td><code>'seqName': string</code>,<!-- raw HTML omitted --><code>'start': number</code>,<!-- raw HTML omitted --><code>'end': number</code>,<!-- raw HTML omitted --><code>'datasource': string</code>, the name of the data source table,<!-- raw HTML omitted --><code>'measurement': string</code>, the name of the column in the table where values reside</td>
<td><!-- raw HTML omitted -->{<!-- raw HTML omitted -->  globalStartIndex: ?number,<!-- raw HTML omitted -->  values: number[]<!-- raw HTML omitted -->}<!-- raw HTML omitted --></td>
<td>Requests the values in a particular column of a data source table.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'getMeasurements'</code></td>
<td></td>
<td><!-- raw HTML omitted -->{<!-- raw HTML omitted -->  id: string[],<!-- raw HTML omitted -->  name: string[],<!-- raw HTML omitted -->  type: string[],<!-- raw HTML omitted -->  datasourceId: string[],<!-- raw HTML omitted -->  datasourceGroup: string[],<!-- raw HTML omitted -->  defaultChartType: string[],<!-- raw HTML omitted -->  annotation: Array.&lt;Object.&lt;string, string&gt;&gt;,<!-- raw HTML omitted -->  minValue: number[],<!-- raw HTML omitted -->  maxValue: number[],<!-- raw HTML omitted -->  metadata: Array.&lt;string[]&gt;<!-- raw HTML omitted -->}</td>
<td>Requests all the measurements available to serve by the data provider.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'getSeqInfos'</code></td>
<td></td>
<td><!-- raw HTML omitted -->Array.&lt;Array&gt;<!-- raw HTML omitted --> an array of arrays of three elements: sequence name, minimum and maximum base pair boundaries. For example: <!-- raw HTML omitted -->[[&lsquo;chr1&rsquo;, 1, 248956422], [&lsquo;myChr&rsquo;, 1, 1000000000]]<!-- raw HTML omitted --></td>
<td>Requests the sequence information - name and boundaries available to serve by the data provider.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'search'</code></td>
<td><code>'q': string</code>, a text to filter results by<!-- raw HTML omitted --><code>'maxResults': number</code>, the maximum number of results to return</td>
<td></td>
<td><!-- raw HTML omitted -->optional<!-- raw HTML omitted --> Requests gene and Affymetrix probe information for data that contains the given filter string.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'saveWorkspace'</code></td>
<td><code>'id': string</code>,<!-- raw HTML omitted --><code>'name': string</code>,<!-- raw HTML omitted --><code>'content': Object.&lt;string, *&gt;</code></td>
<td></td>
<td><!-- raw HTML omitted -->optional<!-- raw HTML omitted --> Sends information about the active workspace to the data provider, in order to be saved.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'deleteWorkspace'</code></td>
<td><code>'id': string</code>,</td>
<td></td>
<td><!-- raw HTML omitted -->optional<!-- raw HTML omitted --> Requests the deletion of the workspace with the given id.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'getWorkspaces'</code></td>
<td><code>'q': string</code>,<!-- raw HTML omitted --><code>'ws': string</code></td>
<td></td>
<td><!-- raw HTML omitted -->optional<!-- raw HTML omitted --> Requests all the workspace for the current user whose names match the given filter.</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>UI Actions</strong></p>
<table>
<thead>
<tr>
<th>Action</th>
<th>Args</th>
<th>Response format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>'addMeasurements'</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'removeMeasurements'</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'addSeqInfos'</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'removeSeqNames'</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'addChart'</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'removeChart'</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'clearDatasourceGroupCache'</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'flushCache'</code></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>'navigate'</code></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</li>
</ul>
<p><strong>Example implementation</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">goog</span>.<span style="color:#a6e22e">provide</span>(<span style="color:#e6db74">&#39;epiviz.plugins.data.MyDataProvider&#39;</span>);

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @constructor
</span><span style="color:#75715e"> * @extends {epiviz.data.DataProvider}
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">MyDataProvider</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
    <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">DataProvider</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>);

    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">measurements</span>.<span style="color:#a6e22e">Measurement</span>(
      <span style="color:#e6db74">&#39;my_feature_column&#39;</span>, <span style="color:#75715e">// The column in the data source table that contains the values for this feature measurement
</span><span style="color:#75715e"></span>      <span style="color:#e6db74">&#39;My Feature Measurement&#39;</span>, <span style="color:#75715e">// A name not containing any special characters (only alphanumeric and underscores)
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">measurements</span>.<span style="color:#a6e22e">Measurement</span>.<span style="color:#a6e22e">Type</span>.<span style="color:#a6e22e">FEATURE</span>,
      <span style="color:#e6db74">&#39;my_datasource&#39;</span>, <span style="color:#75715e">// Data source: the table/data frame containing the data
</span><span style="color:#75715e"></span>      <span style="color:#e6db74">&#39;my_datasourcegroup&#39;</span>, <span style="color:#75715e">// An identifier for use to group with other measurements from different data providers
</span><span style="color:#75715e"></span>                            <span style="color:#75715e">// that have the same seqName, start and end values
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">id</span>(), <span style="color:#75715e">// Data provider
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">null</span>, <span style="color:#75715e">// Formula: always null for measurements coming directly from the data provider
</span><span style="color:#75715e"></span>      <span style="color:#e6db74">&#39;Line Track&#39;</span>, <span style="color:#75715e">// Default chart type filter
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">null</span>, <span style="color:#75715e">// Annotation
</span><span style="color:#75715e"></span>      <span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>, <span style="color:#75715e">// Min Value
</span><span style="color:#75715e"></span>      <span style="color:#ae81ff">25</span>, <span style="color:#75715e">// Max Value
</span><span style="color:#75715e"></span>      [<span style="color:#e6db74">&#39;my_metadata&#39;</span>] <span style="color:#75715e">// Metadata columns
</span><span style="color:#75715e"></span>    );
};

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * Copy methods from upper class
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">MyDataProvider</span>.<span style="color:#a6e22e">prototype</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">utils</span>.<span style="color:#a6e22e">mapCopy</span>(<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">DataProvider</span>.<span style="color:#a6e22e">prototype</span>);
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">MyDataProvider</span>.<span style="color:#a6e22e">constructor</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">MyDataProvider</span>;

<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">MyDataProvider</span>.<span style="color:#a6e22e">DEFAULT_ID</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;myprovider&#39;</span>;

<span style="color:#75715e">/**
</span><span style="color:#75715e"> * @param {epiviz.data.Request} request
</span><span style="color:#75715e"> * @param {function(epiviz.data.Response)} callback
</span><span style="color:#75715e"> * @override
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">plugins</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">MyDataProvider</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">getData</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">request</span>, <span style="color:#a6e22e">callback</span>) {
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">requestId</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">id</span>();
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">action</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;action&#39;</span>);
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">seqName</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;seqName&#39;</span>);
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">start</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;start&#39;</span>);
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">end</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;end&#39;</span>);
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">datasource</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">get</span>(<span style="color:#e6db74">&#39;datasource&#39;</span>);

    <span style="color:#75715e">// Return a genomic range of 100 base pairs every 1000 base pairs
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">step</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>, <span style="color:#a6e22e">width</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>;
    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">globalStartIndex</span>, <span style="color:#a6e22e">firstStart</span>, <span style="color:#a6e22e">firstEnd</span>;
    <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">action</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Request</span>.<span style="color:#a6e22e">Action</span>.<span style="color:#a6e22e">GET_ROWS</span> <span style="color:#f92672">||</span> <span style="color:#a6e22e">action</span> <span style="color:#f92672">==</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Request</span>.<span style="color:#a6e22e">Action</span>.<span style="color:#a6e22e">GET_VALUES</span>) {
      <span style="color:#a6e22e">globalStartIndex</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">floor</span>((<span style="color:#a6e22e">start</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">/</span> <span style="color:#a6e22e">step</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
      <span style="color:#a6e22e">firstStart</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">globalStartIndex</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">step</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
      <span style="color:#a6e22e">firstEnd</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">firstStart</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">width</span>;

      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">firstEnd</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">start</span>) {
        <span style="color:#a6e22e">firstStart</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">step</span>;
        <span style="color:#a6e22e">firstEnd</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">step</span>;
      }
    }

    <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">globalIndex</span>, <span style="color:#a6e22e">s</span>;
    <span style="color:#66d9ef">switch</span> (<span style="color:#a6e22e">action</span>) {
      <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Request</span>.<span style="color:#a6e22e">Action</span>.<span style="color:#a6e22e">GET_ROWS</span><span style="color:#f92672">:</span>
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">firstStart</span> <span style="color:#f92672">&gt;=</span> <span style="color:#a6e22e">end</span>) {
          <span style="color:#75715e">// Nothing to return
</span><span style="color:#75715e"></span>          <span style="color:#a6e22e">callback</span>(<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">fromRawObject</span>({
            <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">values</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> [], <span style="color:#a6e22e">start</span><span style="color:#f92672">:</span> [], <span style="color:#a6e22e">end</span><span style="color:#f92672">:</span>[], <span style="color:#a6e22e">strand</span><span style="color:#f92672">:</span> [], <span style="color:#a6e22e">metadata</span><span style="color:#f92672">:</span>{<span style="color:#a6e22e">my_metadata</span><span style="color:#f92672">:</span>[]} }, <span style="color:#a6e22e">globalStartIndex</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span>, <span style="color:#a6e22e">useOffset</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span> },
            <span style="color:#a6e22e">requestId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">requestId</span>
          }));
          <span style="color:#66d9ef">return</span>;
        }

        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">ids</span> <span style="color:#f92672">=</span> [], <span style="color:#a6e22e">starts</span> <span style="color:#f92672">=</span> [], <span style="color:#a6e22e">ends</span> <span style="color:#f92672">=</span> [], <span style="color:#a6e22e">strands</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;*&#39;</span>, <span style="color:#a6e22e">myMetadata</span> <span style="color:#f92672">=</span> [];
        <span style="color:#66d9ef">for</span> (<span style="color:#a6e22e">globalIndex</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">globalStartIndex</span>, <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">firstStart</span>; <span style="color:#a6e22e">s</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">end</span>; <span style="color:#f92672">++</span><span style="color:#a6e22e">globalIndex</span>, <span style="color:#a6e22e">s</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">step</span>) {
          <span style="color:#a6e22e">ids</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">globalIndex</span>);
          <span style="color:#a6e22e">starts</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">s</span>);
          <span style="color:#a6e22e">ends</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">s</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">width</span>);
          <span style="color:#a6e22e">myMetadata</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">utils</span>.<span style="color:#a6e22e">generatePseudoGUID</span>(<span style="color:#ae81ff">5</span>)); <span style="color:#75715e">// Random string
</span><span style="color:#75715e"></span>        }

        <span style="color:#a6e22e">callback</span>(<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">fromRawObject</span>({
          <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">values</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ids</span>, <span style="color:#a6e22e">start</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">starts</span>, <span style="color:#a6e22e">end</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">ends</span>, <span style="color:#a6e22e">strand</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">strands</span>, <span style="color:#a6e22e">metadata</span><span style="color:#f92672">:</span>{ <span style="color:#a6e22e">my_metadata</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">myMetadata</span> } },
            <span style="color:#a6e22e">globalStartIndex</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">globalStartIndex</span>,
            <span style="color:#a6e22e">useOffset</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>
          },
          <span style="color:#a6e22e">requestId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">requestId</span>
        }));
        <span style="color:#66d9ef">return</span>;

      <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Request</span>.<span style="color:#a6e22e">Action</span>.<span style="color:#a6e22e">GET_VALUES</span><span style="color:#f92672">:</span>
        <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">firstStart</span> <span style="color:#f92672">&gt;=</span> <span style="color:#a6e22e">end</span>) {
          <span style="color:#75715e">// Nothing to return
</span><span style="color:#75715e"></span>          <span style="color:#a6e22e">callback</span>(<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">fromRawObject</span>({
            <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> { <span style="color:#a6e22e">values</span><span style="color:#f92672">:</span> [], <span style="color:#a6e22e">globalStartIndex</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span> },
            <span style="color:#a6e22e">requestId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">requestId</span>
          }));
          <span style="color:#66d9ef">return</span>;
        }

        <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">values</span> <span style="color:#f92672">=</span> [];
        <span style="color:#66d9ef">for</span> (<span style="color:#a6e22e">globalIndex</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">globalStartIndex</span>, <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">firstStart</span>; <span style="color:#a6e22e">s</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">end</span>; <span style="color:#f92672">++</span><span style="color:#a6e22e">globalIndex</span>, <span style="color:#a6e22e">s</span> <span style="color:#f92672">+=</span> <span style="color:#a6e22e">step</span>) {
          <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">v</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">random</span>()
            <span style="color:#f92672">*</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">maxValue</span>() <span style="color:#f92672">-</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">minValue</span>())
            <span style="color:#f92672">+</span>  <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">minValue</span>();
          <span style="color:#a6e22e">values</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">v</span>);
        }

        <span style="color:#a6e22e">callback</span>(<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">fromRawObject</span>({
          <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">values</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">values</span>,
            <span style="color:#a6e22e">globalStartIndex</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">globalStartIndex</span>
          },
          <span style="color:#a6e22e">requestId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">requestId</span>
        }));

        <span style="color:#66d9ef">return</span>;

      <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Request</span>.<span style="color:#a6e22e">Action</span>.<span style="color:#a6e22e">GET_MEASUREMENTS</span><span style="color:#f92672">:</span>
        <span style="color:#a6e22e">callback</span>(<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">fromRawObject</span>({
          <span style="color:#a6e22e">requestId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">id</span>(),
          <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> {
            <span style="color:#a6e22e">id</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">id</span>()],
            <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">name</span>()],
            <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">type</span>()],
            <span style="color:#a6e22e">datasourceId</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">datasourceId</span>()],
            <span style="color:#a6e22e">datasourceGroup</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">datasourceGroup</span>()],
            <span style="color:#a6e22e">defaultChartType</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">defaultChartType</span>()],
            <span style="color:#a6e22e">annotation</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">annotation</span>()],
            <span style="color:#a6e22e">minValue</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">minValue</span>()],
            <span style="color:#a6e22e">maxValue</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">maxValue</span>()],
            <span style="color:#a6e22e">metadata</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">_mockMeasurement</span>.<span style="color:#a6e22e">metadata</span>()]
          }
        }));
        <span style="color:#66d9ef">return</span>;

      <span style="color:#66d9ef">case</span> <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Request</span>.<span style="color:#a6e22e">Action</span>.<span style="color:#a6e22e">GET_SEQINFOS</span><span style="color:#f92672">:</span>
        <span style="color:#a6e22e">callback</span>(<span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">Response</span>.<span style="color:#a6e22e">fromRawObject</span>({
          <span style="color:#a6e22e">requestId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">request</span>.<span style="color:#a6e22e">id</span>(),
          <span style="color:#a6e22e">data</span><span style="color:#f92672">:</span> [[<span style="color:#e6db74">&#39;chr1&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">248956422</span>], [<span style="color:#e6db74">&#39;myChr&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1000000000</span>]]
        }));
        <span style="color:#66d9ef">return</span>;

      <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
        <span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">DataProvider</span>.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">getData</span>.<span style="color:#a6e22e">call</span>(<span style="color:#66d9ef">this</span>, <span style="color:#a6e22e">request</span>, <span style="color:#a6e22e">callback</span>);
        <span style="color:#66d9ef">break</span>;
    }
};
</code></pre></div><ol start="3">
<li>Declare the data provider in your settings file, in the <code>dataProviders</code> property.</li>
</ol>
<p><strong>Example</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">dataProviders</span><span style="color:#f92672">:</span> [
    ...,
    <span style="color:#e6db74">&#39;epiviz.plugins.data.MyDataProvider&#39;</span>
],
</code></pre></div><p>Alternatively, create a script to override the default <code>Epiviz</code> settings and add the new data provider:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">epiviz</span>.<span style="color:#a6e22e">EpiViz</span>.<span style="color:#a6e22e">SETTINGS</span>.<span style="color:#a6e22e">dataProviders</span>.<span style="color:#a6e22e">push</span>(<span style="color:#e6db74">&#39;epiviz.plugins.data.MyDataProvider&#39;</span>);
</code></pre></div><ol start="4">
<li>If using Epiviz on a remote server, plug in your scripts and settings file and start using them!</li>
</ol>
<p><strong>Example</strong></p>
<ul>
<li><code>my-data-provider.js</code> and <code>my-data-provider-settings-overrides.js</code>: <a href="http://gist.github.com/63dce2a92d80f57637c6">http://gist.github.com/63dce2a92d80f57637c6</a></li>
</ul>
<p>In the measurement selection dialogs, notice the new data source, <strong>my_datasource</strong> and the new measurement, <strong>My Measurement</strong></p>
<p><img src="https://epiviz.github.io/tutorials/images/scr_mydataprovider_addblocks.png" alt="The new data source"></p>
<p><img src="https://epiviz.github.io/tutorials/images/scr_mydataprovider_addms.png" alt="The new measurement"></p>
<p>A heatmap displaying data provided by <strong>My DataProvider</strong></p>
<p><img src="https://epiviz.github.io/tutorials/images/scr_mydataprovider_heatmap.png" alt="A heatmap with the new measurement"></p>
<p>A line track displaying data provided by <strong>My DataProvider</strong></p>
<p><img src="https://epiviz.github.io/tutorials/images/scr_mydataprovider_line.png" alt="Line Track with new measurement"></p>
<p>A blocks track displaying data provided by <strong>My DataProvider</strong>
<img src="https://epiviz.github.io/tutorials/images/scr_mydataprovider_blocks.png" alt="Blocks Track with new measurement"></p>
<hr>
<ul>
<li><strong><a href="http://epiviz.cbcb.umd.edu/4/?ws=WRIOVgCREuu&amp;gist%5B%5D=63dce2a92d80f57637c6&amp;settings=default">See it in Epiviz 4</a></strong></li>
<li><strong><a href="http://epiviz.cbcb.umd.edu/3/?ws=WRIOVgCREuu&amp;gist%5B%5D=63dce2a92d80f57637c6&amp;settings=default">See it in Epiviz 3</a></strong></li>
<li><strong><a href="http://epiviz.cbcb.umd.edu/2/?ws=IqvEuzLIiMd&amp;gist%5B%5D=11026256&amp;settings=default">See it in Epiviz 2</a></strong></li>
</ul>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="https://epiviz.github.io/tutorials/tutorials/websocket/" title="Websocket Tutorial"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="https://epiviz.github.io/tutorials/metaviz/" title="Metaviz Tutorials" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://epiviz.github.io/tutorials/js/clipboard.min.js?1611195372"></script>
    <script src="https://epiviz.github.io/tutorials/js/perfect-scrollbar.min.js?1611195372"></script>
    <script src="https://epiviz.github.io/tutorials/js/perfect-scrollbar.jquery.min.js?1611195372"></script>
    <script src="https://epiviz.github.io/tutorials/js/jquery.sticky.js?1611195372"></script>
    <script src="https://epiviz.github.io/tutorials/js/featherlight.min.js?1611195372"></script>
    <script src="https://epiviz.github.io/tutorials/js/highlight.pack.js?1611195372"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://epiviz.github.io/tutorials/js/modernizr.custom-3.6.0.js?1611195372"></script>
    <script src="https://epiviz.github.io/tutorials/js/learn.js?1611195372"></script>
    <script src="https://epiviz.github.io/tutorials/js/hugo-learn.js?1611195372"></script>
    
        
            <script src="https://epiviz.github.io/tutorials/mermaid/mermaid.js?1611195372"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

